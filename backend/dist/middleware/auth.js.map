{"version":3,"file":"auth.js","sourceRoot":"","sources":["../../src/middleware/auth.ts"],"names":[],"mappings":"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"}